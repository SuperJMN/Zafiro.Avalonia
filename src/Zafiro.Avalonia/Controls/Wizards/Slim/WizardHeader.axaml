<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:classic="clr-namespace:Zafiro.Avalonia.Controls.Wizards.Slim"
        xmlns:panels="clr-namespace:Zafiro.Avalonia.Controls.Panels">

    <Design.PreviewWith>
        <WizardHeader Width="400">
            <WizardHeader.Wizard>
                <classic:WizardDesign />
            </WizardHeader.Wizard>
        </WizardHeader>
    </Design.PreviewWith>

    <Styles.Resources>
        <ControlTheme x:Key="{x:Type WizardHeader}" TargetType="WizardHeader">
            <Setter Property="Template">
                <ControlTemplate>
                    <panels:TrueCenterPanel DockPanel.Dock="Top">

                        <StackPanel TrueCenterPanel.Dock="Center" Spacing="10" Orientation="Vertical" HorizontalAlignment="Center">
                            <StepIndicator x:Name="StepIndicator" HorizontalAlignment="Center"
                                           Current="{Binding $parent[WizardHeader].Wizard.CurrentPage.Index}"
                                           Total="{Binding $parent[WizardHeader].Wizard.TotalPages}">
                            </StepIndicator>
                            <ContentPresenter Content="{Binding $parent[WizardHeader].CurrentHeader}" HorizontalAlignment="Center" />
                        </StackPanel>
                        <TextBlock FontSize="12" VerticalAlignment="Center" panels:TrueCenterPanel.Dock="Right" Margin="5 0">
                            <TextBlock.Text>
                                <MultiBinding StringFormat="Step {0} of {1}">
                                    <Binding Path="#StepIndicator.Current" Converter="{x:Static MiscConverters.AddOne}" />
                                    <Binding Path="#StepIndicator.Total" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                    </panels:TrueCenterPanel>
                </ControlTemplate>
            </Setter>
        </ControlTheme>
    </Styles.Resources>
</Styles>