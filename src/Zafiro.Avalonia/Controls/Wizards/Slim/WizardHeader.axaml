<Styles xmlns="https://github.com/avaloniaui"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:classic="clr-namespace:Zafiro.Avalonia.Controls.Wizards.Slim"
        xmlns:panels="clr-namespace:Zafiro.Avalonia.Controls.Panels">

    <Design.PreviewWith>
        <WizardHeader Width="400">
            <WizardHeader.Wizard>
                <classic:WizardDesign />
            </WizardHeader.Wizard>
        </WizardHeader>
    </Design.PreviewWith>

    <Styles.Resources>
        <ControlTheme x:Key="{x:Type WizardHeader}" TargetType="WizardHeader">
            <Setter Property="Template">
                <ControlTemplate>
                    <panels:TrueCenterPanel DockPanel.Dock="Top">
                        <EnhancedButton Theme="{StaticResource TransparentButton}"
                                        panels:TrueCenterPanel.Dock="Left"
                                        IsVisible="{Binding $parent[WizardHeader].IsBackButtonVisible}"
                                        Opacity="{Binding $self.IsEffectivelyEnabled, Converter={x:Static OpacityConverters.BoolToOpacity}}"
                                        Command="{Binding $parent[WizardHeader].Wizard.Back}">
                            <Button.Content>
                                <DockPanel>
                                    <Image Source="{StaticResource BackArrow}" Height="16" Margin="0,0,4,0" />
                                    <TextBlock>Back</TextBlock>
                                </DockPanel>
                            </Button.Content>
                        </EnhancedButton>
                        <StepIndicator TrueCenterPanel.Dock="Center" x:Name="StepIndicator" HorizontalAlignment="Center"
                                       Current="{Binding $parent[WizardHeader].Wizard.CurrentPage.Index}"
                                       Total="{Binding $parent[WizardHeader].Wizard.TotalPages}">
                        </StepIndicator>
                        <TextBlock FontSize="12" VerticalAlignment="Center" panels:TrueCenterPanel.Dock="Right" Margin="5 0">
                            <TextBlock.Text>
                                <MultiBinding StringFormat="Step {0} of {1}">
                                    <Binding Path="#StepIndicator.Current" Converter="{x:Static MiscConverters.AddOne}" />
                                    <Binding Path="#StepIndicator.Total" />
                                </MultiBinding>
                            </TextBlock.Text>
                        </TextBlock>
                    </panels:TrueCenterPanel>
                </ControlTemplate>
            </Setter>
        </ControlTheme>
    </Styles.Resources>
</Styles>